Сравнение параметров запроса решения и эталонного ответа:

- workshop_id - совпадает.
- workshop_name - совпадает.
- workshop_type - совпадает.
- num_craftsdwarves - совпадает.
- total_quantity_produced - совпадает.
- total_production_value - совпадает, однако в моём решении есть обработка NULL значений т.к. по таблице неизвестно может ли столбец содержать NULL.
- daily_production_rate - логика получения параметра совпадает (отношение общего количества произведённых товаров к общему количеству дней). 
- value_per_material_unit - совпадает, также с отличием в проверке на NULL.
- workshop_utilization_percent - не понял как рассчитывать параметр поскольку думал, что для расчёта требуется дата начала и окончания работ по отдельному продукту. В ответе же считается сумма уникальных дат производства продукта и делится на общее количество дней производства. Такой способ хоть и менее точный, однако также может дать приближенное представление о загрузке мастерской. В следующий раз мне нужно рассматривать больше вариантов решений, а не зацикливаться на одном.
- material_conversion_ratio - логика запроса решения и эталонного ответа расходятся. Я понял этот параметр как соотношение количества потреблённых материалов к количеству произведённых продуктов. Однако и в свой логике допустил ошибку не отсеяв материалы с is_input = FALSE. Сейчас осознал, что действительно логичнее считать соотношение произведённых к потреблённым материалам.
- average_craftsdwarf_skill - совпадает.
- skill_quality_correlation - решение отличается от эталонного ответа. Поскольку использовал синтаксис MS SQL, то решил что для приближенного расчёта можно будет посчитать как среднее от отношения средневзвешенного по цене качества продукта к среднему скилу гнома, однако это все же не подхождит под определение корреляции. Нужно осваивать PostgreSQL, там больше аналитических возможностей.
- related_entities - совпадает.

Отдельно стоит отметить способ сортировки на основе вычисляемого коэффициента. Он рассчитывается на основе произведения коэффициента эффективности производства и активности мастерской. Ранее работал только с простыми сортировками. Нужно запомнить такой способ, выглядит очень полезным.


Выводы по заданию: 
В этом задании также допустил несколько ошибок, однако открыл для себя много нового:
- Способы получения статистики на основе имеющихся параметров, когда кажется, что данных не хватает, хотя на самом деле это не так. 
- Сортировка на основе вычисляемого критерия сортировки.
- Способ структурирования запроса - хотя я и старался применить новые знания по CTE, однако мой запрос получился сложнее эталонного в плане логики и восприятия. Эталон структурирован по отдельным связанным группам параметров поэтому запрос читается легче.
- Взял на заметку комментирование отдельных частей запроса для наглядности структуры.





